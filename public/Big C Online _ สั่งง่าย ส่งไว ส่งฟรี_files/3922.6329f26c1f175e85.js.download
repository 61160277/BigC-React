(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3922],{42211:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var a=n(9722),o=n(70169),i=n(24246),r=n(30584),s=n(96093),l=n(79941),c=n(70539),u=n(68675),d=n(73608),p=n(38944),m=n(38579),_=n.n(m),f=n(79894),h=n.n(f),v=n(23615),g=n.n(v),b=n(27378),y=n(92026),D=n(94900),T=n(11019),j=n.n(T);function w(e){var t,n,m=e.productDetail,f=e.isFlashDeal,v=void 0!==f&&f,g=e.trackingData,T=function(){k({category:w().category,action:"select_content",label:w().label,value:w().value,product:(0,o.Z)((0,a.Z)({},m),{storeId:O})})},w=function(){var e=null==g?void 0:g.widgetId,t=null==g?void 0:g.widgetType,n=null==g?void 0:g.position,a=null==g?void 0:g.widgetName;return{category:(null==g?void 0:g.category)||"widget_".concat(t,"_").concat(n,"_").concat(a).concat(e?"_".concat(e):""),label:(null==g?void 0:g.label)||"product_"+m.name,value:null==g?void 0:g.value}},x=(0,y.$)(),S=x.t,C=x.i18n,P=(0,d.F)().isMobile,k=(0,s.r)().trackEcommerce,N=(0,u.f)().selectedWarehouse,O=null==N?void 0:N.store_id,M="en"===C.language?m.name_en:m.name,E={pathname:"/product/[slug]",query:{slug:(0,c.Z)(m)}},Z=(0,b.useMemo)(function(){return(0,l.Z)({data:m,lang:C.language})},[m,C.language]),I=!((null==m?void 0:m.qty)>0)||m.safety_stock>=(null==m?void 0:m.qty),A=(0,b.useMemo)(function(){var e,t;return null===(t=null==m?void 0:null===(e=m.shipping_labels)||void 0===e?void 0:e.map(function(e,t){if((null==e?void 0:e.status)!==0){var n={6534:1,6535:2,6536:3,6537:4,6538:5}[null==e?void 0:e.shipping_id];if(n)return(0,i.jsx)("span",{className:j().item,title:"en"===C.language?null==e?void 0:e.name_en:null==e?void 0:e.name,children:(0,i.jsx)(_(),{src:"/images/icon/shipping/icon-shipping".concat(n,".svg"),width:34,height:34})},t)}}))||void 0===t?void 0:t.filter(Boolean)},[null==m?void 0:m.product_id]);return(0,i.jsxs)("div",{className:(0,p.Z)(j().container,v&&j().flashsale,P&&j().mobile),children:[(0,i.jsxs)("div",{className:j().img_wrapper,children:[(0,i.jsx)(h(),{href:E,children:(0,i.jsx)("a",{onClick:T,children:(0,i.jsx)(r.Z,{src:null==m?void 0:null===(t=m.thumbnail_image)||void 0===t?void 0:t.replace("/thumbnail",""),width:192,height:192,quality:85,alt:null==m?void 0:m.name})})}),(null==m?void 0:m.badge)&&(0,i.jsx)("div",{className:j().badge_warpper,children:null===(n=m.badge)||void 0===n?void 0:n.map(function(e,t){return(0,i.jsx)("div",{className:j()["badge_".concat(null==e?void 0:e.position)],children:(0,i.jsx)(_(),{src:"en"===C.language?null==e?void 0:e.image_en:null==e?void 0:e.image,width:38,height:38,alt:null==e?void 0:e.name})},"pd_card-".concat(t))})}),(0,i.jsx)("div",{className:j().choose_qty,children:(0,i.jsx)(D.Z,{type:"plp",size:"small",productDetail:m,trackingData:w()})}),I&&(null==m?void 0:m.product_type)==="single"&&(0,i.jsx)("div",{className:j().out_of_stock,children:S("common:out-of-stock")})]}),!!(null==Z?void 0:Z.discount)&&(0,i.jsx)("div",{className:j().promotion_label,children:null==Z?void 0:Z.discount}),!v&&(0,i.jsx)("div",{className:j().title,children:(0,i.jsx)(h(),{href:E,children:(0,i.jsx)("a",{onClick:T,children:M})})}),(0,i.jsxs)("div",{className:j().price,children:[(0,i.jsx)("span",{className:j().baht,children:"฿"}),Z.salePrice,(0,i.jsxs)("span",{className:j().unit,children:["/ ",Z.productUnit]})]}),(0,i.jsx)("span",{className:j().base_price,children:"promotion"===Z.type&&"฿".concat(Z.basePrice)}),!v&&(0,i.jsx)("div",{className:(0,p.Z)(j().shipping_labels,!(null==A?void 0:A.length)&&j().missing),children:A})]})}w.propTypes={productDetail:g().object.isRequired,isFlashDeal:g().bool,trackingData:g().object}},16671:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var a=n(9722),o=n(70169),i=n(24246);n(87769);var r=n(42211),s=n(34823),l=n(73608),c=n(38944),u=n(23615),d=n.n(u),p=n(27378),m=n(22049),_=n.n(m);function f(e){var t=e.items,n=e.isFlashDeal,u=e.trackingData,d=(0,l.F)().isMobile,m=(0,p.useState)(!1),f=m[0],h=m[1];return((0,p.useEffect)(function(){(d||(null==t?void 0:t.length)>6)&&h(!0)},[]),f)?(0,i.jsx)(s.tv,{className:(0,c.Z)(_().slidebar,d?_().mobile:_().desktop),options:d?{fixedWidth:"11rem",padding:"0.5rem",perPage:2,arrows:!1}:{perPage:6},children:null==t?void 0:t.map(function(e,t){return(0,i.jsx)(s.jw,{children:(0,i.jsx)(r.Z,{productDetail:e,isFlashDeal:n,trackingData:(0,o.Z)((0,a.Z)({},u),{value:t+1})})},t)})}):(0,i.jsx)("div",{className:(0,c.Z)(_().product__group,d?_().mobile:_().desktop),children:null==t?void 0:t.map(function(e,t){return(0,i.jsx)("div",{className:_()["product__group-col"],children:(0,i.jsx)(r.Z,{productDetail:e,isFlashDeal:n,trackingData:(0,o.Z)((0,a.Z)({},u),{value:t+1})})},t)})})}f.propTypes={items:d().array,isFlashDeal:d().bool,trackingData:d().object}},23922:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var a=n(24246),o=n(27126),i=n(16671),r=n(96093),s=n(38944),l=n(79894),c=n.n(l),u=n(23615),d=n.n(u),p=n(27378),m=n(9432),_=n(92026),f=n(17693),h=n.n(f);function v(e){var t=e.data,n=e.position,o=(0,p.useState)(!1),i=o[0],r=o[1];return((0,p.useEffect)(function(){return r(!0)},[]),i)?(0,a.jsx)(m.ZP,{date:new Date(null==t?void 0:t.end_datetime),renderer:function(e){return(0,a.jsx)(g,{data:t,countdown:e,position:n})}}):(0,a.jsx)(g,{data:t})}function g(e){var t=e.data,n=e.countdown,l=e.position,u=(0,_.$)("common"),d=u.t;u.i18n;var p=(0,r.r)().trackEvent;return(null==n?void 0:n.completed)?null:(0,a.jsx)("div",{className:h()["flash-deal__container"],"data-title":null==t?void 0:t.title_th,children:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsxs)("div",{className:h().header__section,children:[(0,a.jsxs)("div",{className:h()["flash-deal__title"],children:[(0,a.jsx)(o.Z,{path:"thunder",w:"18",h:"27",gw:"18",gh:"27",strokeWidth:"0.5"}),"FLASH SALE",!!n&&(0,a.jsxs)("div",{className:h().clock__container,children:[(0,a.jsx)("span",{className:(0,s.Z)(h()["countdown-text"],h().day),children:"".concat((null==n?void 0:n.days)+"D")}),(0,a.jsx)("span",{className:h()["countdown-text"],children:"".concat(b(null==n?void 0:n.hours))}),":",(0,a.jsx)("span",{className:h()["countdown-text"],children:"".concat(b(null==n?void 0:n.minutes))}),":",(0,a.jsx)("span",{className:h()["countdown-text"],children:"".concat(b(null==n?void 0:n.seconds))})]})]}),(0,a.jsx)(c(),{href:"/flashsale/".concat(null==t?void 0:t.slug),children:(0,a.jsx)("a",{onClick:function(){return p({category:"widget_flash_deal_".concat(l,"_").concat(null==t?void 0:t.title_th,"_").concat(null==t?void 0:t.wId),action:"see_more",label:"see_all"})},children:(0,a.jsxs)("div",{className:h()["flash-deal__seemore"],children:[d("section-seemore"),(0,a.jsx)("i",{className:h()["flash-deal__seemore-icon"],children:(0,a.jsx)("svg",{viewBox:"0 0 40 40",children:(0,a.jsx)("path",{d:"m15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z"})})})]})})})]}),(0,a.jsx)(i.Z,{items:null==t?void 0:t.products,isFlashDeal:!0,trackingData:{widgetId:null==t?void 0:t.wId,widgetType:"flash_deal",widgetName:null==t?void 0:t.title_th,position:l}})]})})}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e<10?"0".concat(e):e}v.propTypes={data:d().object,position:d().number},g.propTypes={data:d().object,countdown:d().object,position:d().number}},11019:function(e){e.exports={container:"productCard_container__f4ijZ",mobile:"productCard_mobile__g2P5A",shipping_labels:"productCard_shipping_labels__Pr0Sm",price:"productCard_price__zid5Z",promotion_label:"productCard_promotion_label__wAjBn",img_wrapper:"productCard_img_wrapper__A9ptg",badge_warpper:"productCard_badge_warpper__luhas",missing:"productCard_missing__vN_Pw",flashsale:"productCard_flashsale__Lp1dy",base_price:"productCard_base_price__j5_Sq","badge_top-right":"productCard_badge_top-right__Ty135","badge_middle-right":"productCard_badge_middle-right__5jvFn","badge_bottom-right":"productCard_badge_bottom-right__fqWoN",choose_qty:"productCard_choose_qty__09X5C",out_of_stock:"productCard_out_of_stock__qMrGY",title:"productCard_title__HUSZQ",product_label_wrapper:"productCard_product_label_wrapper__yg14I",label_item:"productCard_label_item__JoJn9",label_yellow:"productCard_label_yellow__cwI2h",label_green:"productCard_label_green__d3K_g",baht:"productCard_baht__PPttC",unit:"productCard_unit__eoavM",flashsale_bar:"productCard_flashsale_bar__C7MEL",sold_bar:"productCard_sold_bar__mXpFt",sold_text:"productCard_sold_text__uDal7",item:"productCard_item__iZwIk"}},22049:function(e){e.exports={product__group:"slide_product__group__nl_Xq",mobile:"slide_mobile__CuM_w","product__group-col":"slide_product__group-col__mptrG",slidebar:"slide_slidebar__hy6WF",desktop:"slide_desktop__YBe_R","product__gallery--wrapper":"slide_product__gallery--wrapper__zPWsa"}},17693:function(e){e.exports={"flash-deal__container":"flashDeal_flash-deal__container__pEPZA",header__section:"flashDeal_header__section__a9Tpe","flash-deal__title":"flashDeal_flash-deal__title__S9IfR",clock__container:"flashDeal_clock__container__opIgK","countdown-text":"flashDeal_countdown-text__P4PoJ",day:"flashDeal_day__Y1pNu","flash-deal__seemore":"flashDeal_flash-deal__seemore__Luae1","flash-deal__seemore-icon":"flashDeal_flash-deal__seemore-icon__D5RpA"}},9432:function(e,t,n){"use strict";var a=n(27378),o=n(23615);function i(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function s(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function l(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a,o,i=c(e);if(t){var r=c(this).constructor;o=Reflect.construct(i,arguments,r)}else o=i.apply(this,arguments);return(a=o)&&("object"==typeof a||"function"==typeof a)?a:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=String(e);if(0===t)return n;var a,o=n.match(/(.*?)([0-9]+)(.*)/),i=o?o[1]:"",r=o?o[3]:"",s=o?o[2]:n,l=s.length>=t?s:(((function(e){if(Array.isArray(e))return p(e)})(a=Array(t))||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(a)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}}(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(){return"0"}).join("")+s).slice(-1*t);return"".concat(i).concat(l).concat(r)}var _={daysInHours:!1,zeroPadTime:2},f=function(e){l(n,e);var t=d(n);function n(){var e;return i(this,n),e=t.apply(this,arguments),e.state={count:e.props.count||3},e.startCountdown=function(){e.interval=window.setInterval(function(){0==e.state.count-1?(e.stopCountdown(),e.props.onComplete&&e.props.onComplete()):e.setState(function(e){return{count:e.count-1}})},1e3)},e.stopCountdown=function(){clearInterval(e.interval)},e.addTime=function(t){e.stopCountdown(),e.setState(function(e){return{count:e.count+t}},e.startCountdown)},e}return s(n,[{key:"componentDidMount",value:function(){this.startCountdown()}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return this.props.children?(0,a.cloneElement)(this.props.children,{count:this.state.count}):null}}]),n}(a.Component);f.propTypes={count:o.number,children:o.element,onComplete:o.func};var h=function(e){l(n,e);var t=d(n);function n(e){var o;if(i(this,n),(o=t.call(this,e)).mounted=!1,o.initialTimestamp=o.calcOffsetStartTimestamp(),o.offsetStartTimestamp=o.props.autoStart?0:o.initialTimestamp,o.offsetTime=0,o.legacyMode=!1,o.legacyCountdownRef=(0,a.createRef)(),o.tick=function(){var e=o.calcTimeDelta(),t=e.completed&&!o.props.overtime?void 0:o.props.onTick;o.setTimeDeltaState(e,void 0,t)},o.start=function(){if(!o.isStarted()){var e=o.offsetStartTimestamp;o.offsetStartTimestamp=0,o.offsetTime+=e?o.calcOffsetStartTimestamp()-e:0;var t=o.calcTimeDelta();o.setTimeDeltaState(t,"STARTED",o.props.onStart),o.props.controlled||t.completed&&!o.props.overtime||(o.clearTimer(),o.interval=window.setInterval(o.tick,o.props.intervalDelay))}},o.pause=function(){o.isPaused()||(o.clearTimer(),o.offsetStartTimestamp=o.calcOffsetStartTimestamp(),o.setTimeDeltaState(o.state.timeDelta,"PAUSED",o.props.onPause))},o.stop=function(){o.isStopped()||(o.clearTimer(),o.offsetStartTimestamp=o.calcOffsetStartTimestamp(),o.offsetTime=o.offsetStartTimestamp-o.initialTimestamp,o.setTimeDeltaState(o.calcTimeDelta(),"STOPPED",o.props.onStop))},o.isStarted=function(){return o.isStatus("STARTED")},o.isPaused=function(){return o.isStatus("PAUSED")},o.isStopped=function(){return o.isStatus("STOPPED")},o.isCompleted=function(){return o.isStatus("COMPLETED")},o.handleOnComplete=function(e){o.props.onComplete&&o.props.onComplete(e)},e.date){var r=o.calcTimeDelta();o.state={timeDelta:r,status:r.completed?"COMPLETED":"STOPPED"}}else o.legacyMode=!0;return o}return s(n,[{key:"componentDidMount",value:function(){!this.legacyMode&&(this.mounted=!0,this.props.onMount&&this.props.onMount(this.calcTimeDelta()),this.props.autoStart&&this.start())}},{key:"componentDidUpdate",value:function(e){!this.legacyMode&&this.props.date!==e.date&&(this.initialTimestamp=this.calcOffsetStartTimestamp(),this.offsetStartTimestamp=this.initialTimestamp,this.offsetTime=0,this.setTimeDeltaState(this.calcTimeDelta()))}},{key:"componentWillUnmount",value:function(){!this.legacyMode&&(this.mounted=!1,this.clearTimer())}},{key:"calcTimeDelta",value:function(){var e=this.props,t=e.date,n=e.now,a=e.precision,o=e.controlled,i=e.overtime;return function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.now,o=void 0===a?Date.now:a,i=n.precision,r=n.controlled,s=n.offsetTime,l=n.overtime;t="string"==typeof e?new Date(e).getTime():e instanceof Date?e.getTime():e,r||(t+=void 0===s?0:s);var c=r?t:t-o(),u=Math.round(1e3*parseFloat(((l?c:Math.max(0,c))/1e3).toFixed(Math.min(20,Math.max(0,void 0===i?0:i))))),d=Math.abs(u)/1e3;return{total:u,days:Math.floor(d/86400),hours:Math.floor(d/3600%24),minutes:Math.floor(d/60%60),seconds:Math.floor(d%60),milliseconds:Number((d%1*1e3).toFixed()),completed:u<=0}}(t,{now:n,precision:a,controlled:o,offsetTime:this.offsetTime,overtime:i})}},{key:"calcOffsetStartTimestamp",value:function(){return Date.now()}},{key:"addTime",value:function(e){this.legacyCountdownRef.current.addTime(e)}},{key:"clearTimer",value:function(){window.clearInterval(this.interval)}},{key:"isStatus",value:function(e){return this.state.status===e}},{key:"setTimeDeltaState",value:function(e,t,n){var a,o=this;if(this.mounted){!this.state.timeDelta.completed&&e.completed&&(this.props.overtime||this.clearTimer(),a=this.handleOnComplete);var i=function(){n&&n(o.state.timeDelta),a&&a(o.state.timeDelta)};return this.setState(function(n){var a=t||n.status;return e.completed&&!o.props.overtime?a="COMPLETED":t||"COMPLETED"!==a||(a="STOPPED"),{timeDelta:e,status:a}},i)}}},{key:"getApi",value:function(){return this.api=this.api||{start:this.start,pause:this.pause,stop:this.stop,isStarted:this.isStarted,isPaused:this.isPaused,isStopped:this.isStopped,isCompleted:this.isCompleted}}},{key:"getRenderProps",value:function(){var e,t,n,a,o,i,r,s,l,c,u,d,p=this.props,f=p.daysInHours,h=p.zeroPadTime,v=p.zeroPadDays,g=this.state.timeDelta;return Object.assign(Object.assign({},g),{api:this.getApi(),props:this.props,formatted:(n=g.days,a=g.hours,o=g.minutes,i=g.seconds,s=(r=Object.assign(Object.assign({},_),{daysInHours:f,zeroPadTime:h,zeroPadDays:v})).daysInHours,l=r.zeroPadTime,c=r.zeroPadDays,u=Math.min(2,l),d=s?m(a+24*n,l):m(a,u),{days:s?"":m(n,void 0===c?l:c),hours:d,minutes:m(o,u),seconds:m(i,u)})})}},{key:"render",value:function(){if(this.legacyMode){var e=this.props,t=e.count,n=e.children,o=e.onComplete;return(0,a.createElement)(f,{ref:this.legacyCountdownRef,count:t,onComplete:o},n)}var i=this.props,r=i.className,s=i.overtime,l=i.children,c=i.renderer,u=this.getRenderProps();if(c)return c(u);if(l&&this.state.timeDelta.completed&&!s)return(0,a.cloneElement)(l,{countdown:u});var d=u.formatted,p=d.days,m=d.hours,_=d.minutes,h=d.seconds;return(0,a.createElement)("span",{className:r},u.total<0?"-":"",p,p?":":"",m,":",_,":",h)}}]),n}(a.Component);h.defaultProps=Object.assign(Object.assign({},_),{controlled:!1,intervalDelay:1e3,precision:0,autoStart:!0}),h.propTypes={date:(0,o.oneOfType)([(0,o.instanceOf)(Date),o.string,o.number]),daysInHours:o.bool,zeroPadTime:o.number,zeroPadDays:o.number,controlled:o.bool,intervalDelay:o.number,precision:o.number,autoStart:o.bool,overtime:o.bool,className:o.string,children:o.element,renderer:o.func,now:o.func,onMount:o.func,onStart:o.func,onPause:o.func,onStop:o.func,onTick:o.func,onComplete:o.func},t.ZP=h}}]);