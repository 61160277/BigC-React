"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[79],{65602:function(e,n){n.Z=function(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}},59892:function(e,n,t){t.d(n,{Z:function(){return v}});var o=t(23842),r=t(59312),i=t(33424),a=t(78373),u=t(41180),l=t(8576),c=t(68675),d=t(27378),s=t(92026);function v(){var e=(0,s.$)().i18n,n=(0,a.a)(),t=n.user,v=n.isAuthenticated,g=(0,c.f)(),p=g.setGateSelectedWarehouse,_=g.setGateSelectedAddress,h=g.setAllWarehouseStores,f=g.setMasterShippingMethods,m=g.selectedAddress,b=g.selectedWarehouse,y=g.latestSelectedIs,B=g.allWarehouseStores,w=(0,d.useState)({lat:13.718769,long:100.568912}),k=(w[0],w[1]),E=(0,d.useState)(""),A=E[0],I=E[1],S=(0,d.useState)(""),x=S[0],C=S[1];function D(){return(D=(0,o.Z)(function(n){var t,o,a,u,l,c,d,s,v,g,p,_;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return o=void 0===(t=n.lat)?13.718769:t,u=void 0===(a=n.long)?100.568912:a,c=void 0===(l=n.lang)?e.language:l,[4,(0,i.g9)({lat:o,long:u,count:300,lang:c})];case 1:if((null==(d=r.sent())?void 0:d.code)==="success")return h(null==d?void 0:null===(s=d.data)||void 0===s?void 0:null===(v=s.warehouses)||void 0===v?void 0:v.warehouse_stores),f(null==d?void 0:null===(g=d.data)||void 0===g?void 0:g.shipping_methods),[2,null==d?void 0:null===(p=d.data)||void 0===p?void 0:null===(_=p.warehouses)||void 0===_?void 0:_.warehouse_stores];return[2]}})})).apply(this,arguments)}function Z(e){return P.apply(this,arguments)}function P(){return(P=(0,o.Z)(function(n){var o,a,u;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return[4,(0,i.Wi)({token:null==t?void 0:null===(o=t.auth)||void 0===o?void 0:o.token,lang:e.language,type:"shipping"})];case 1:if((null==(u=r.sent())?void 0:u.code)!=="success"||(null==u?void 0:null===(a=u.data)||void 0===a?void 0:a.length)===0)return[2,!1];return[2,null==u?void 0:u.data.filter(function(e){return parseInt(e.id)===parseInt(n)})[0]]}})})).apply(this,arguments)}function W(){return(W=(0,o.Z)(function(){var e,n,o,a;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return o=(0,l.I)({cookieName:"selected_address"}),[4,(0,i.Z8)({token:null==t?void 0:null===(e=t.auth)||void 0===e?void 0:e.token,userId:null==t?void 0:null===(n=t.customer)||void 0===n?void 0:n.id})];case 1:if(!((a=r.sent())&&o))return[3,4];if(!(new Date(null==o?void 0:o.selected_timestamp)>=new Date(null==a?void 0:a.timestamp)))return[3,2];return[2,o];case 2:return[4,Z(null==a?void 0:a.address_id)];case 3:case 5:return[2,r.sent()];case 4:if(o)return[2,o];return[4,Z(null==a?void 0:a.address_id)]}})})).apply(this,arguments)}var j,q,T=(j=(0,o.Z)(function(n){var t,o,i,a,l,c;return(0,r.__generator)(this,function(r){switch(r.label){case 0:if(!(t=null==n?void 0:n.coords))return[2,!1];return k({lat:o=t.latitude,long:i=t.longitude}),[4,(0,u.yi)({lat:o,long:i,lang:e.language})];case 1:if(_(r.sent()),null!==B)return[3,4];return[4,function(e){return D.apply(this,arguments)}({lat:o,long:i,lang:e.language})];case 2:if(!(l=r.sent()))return[3,4];return[4,(0,u.$I)(l)];case 3:p(r.sent()),r.label=4;case 4:return[2]}})}),function(e){return j.apply(this,arguments)}),H=(q=(0,o.Z)(function(n){var t,o,i;return(0,r.__generator)(this,function(o){switch(o.label){case 0:if(n&&console.log(n),b)return[3,5];if(!v)return[3,3];return[4,function(){return W.apply(this,arguments)}()];case 1:if(t=o.sent())return _(t),(0,u.tx)({address:t,lang:e.language,warehouseDispatch:p,isReloadPage:!1}),[2,!0];return[4,(0,u.wQ)({lang:e.language})];case 2:return p(o.sent()[0]),[3,5];case 3:return[4,(0,u.wQ)({lang:e.language})];case 4:i=o.sent(),m?(0,u.tx)({address:m,lang:e.language,warehouseDispatch:p,isReloadPage:!1}):p(i[0]),o.label=5;case 5:return[2]}})}),function(e){return q.apply(this,arguments)});return(0,d.useEffect)(function(){m&&"address"===y&&(0,u.tx)({address:m,lang:e.language,warehouseDispatch:p}),m&&I((0,u.BP)(m))},[y,m]),(0,d.useEffect)(function(){p(b),C("th"===e.language?null==b?void 0:b.warehouse_name_th:null==b?void 0:b.warehouse_name_en)},[b,e.language]),(0,d.useEffect)(function(){var e,n;m||""!==y||("geolocation"in navigator?null==navigator||null===(e=navigator.geolocation)||void 0===e||e.getCurrentPosition(T,H,{enableHighAccuracy:!0,maximumAge:1e4,timeout:1e4}):H("Browser does not support the Geolocation")),m&&""===y&&("geolocation"in navigator?null==navigator||null===(n=navigator.geolocation)||void 0===n||n.getCurrentPosition(function(){},H,{enableHighAccuracy:!0,maximumAge:1e4,timeout:1e4}):H("Browser does not support the Geolocation"))},[]),[m,b,A,x]}},9751:function(e,n,t){t.d(n,{O:function(){return o}});var o={downloadStoreHeader:"https://app.bigc.co.th/P5s8/lm0z9hk0",downloadStoreFooter:"https://app.bigc.co.th/P5s8/fzx9n9dw",line:"https://bit.ly/3ShR2g5",ig:"https://bit.ly/3BkGiba",fb:"https://bit.ly/3Qm7pHg",youtube:"https://bit.ly/3qijmD2",trustMarkThai:"https://www.trustmarkthai.com/callbackData/popup.php?data=e6c5607-29-5-9ca8a164ac124fe8a8eb2246070265c36864e8&markID=firstmark",ocpbCerIdent:"https://sam.ocpb.go.th/CerIdent?Compname=%E0%B8%9A%E0%B8%B4%E0%B9%8A%E0%B8%81%E0%B8%8B%E0%B8%B5%20%E0%B8%8B%E0%B8%B9%E0%B9%80%E0%B8%9B%E0%B8%AD%E0%B8%A3%E0%B9%8C%E0%B9%80%E0%B8%8B%E0%B9%87%E0%B8%99%E0%B9%80%E0%B8%95%E0%B8%AD%E0%B8%A3%E0%B9%8C%20%E0%B8%88%E0%B8%B3%E0%B8%81%E0%B8%B1%E0%B8%94%20(%E0%B8%A1%E0%B8%AB%E0%B8%B2%E0%B8%8A%E0%B8%99)&Param=oahadWLjJudVglsqiUIubkI%2FTHPptR7pnIXB7WjxRD%2Fqt06NfgBemqLlcqrfTYUWrNXBxtJgkTOgcxdkJtTHdd9oZePvYWJtn2tcCoP9qilOjS1tF0qHDWKsCLygocpAy18OtxN80N1hnIQ1xnVbJ%2B1LN1ce3d%2FT"}},60757:function(e,n,t){t.d(n,{$:function(){return o}});var o=function(e){return{docPrivilegeMenu:{title:e("common:header-topMenu-privilege"),data:[{title:e("common:privilege-bigpoint-member"),link:"https://bigpoint.bigc.co.th/exclusive",target:"_blank"},{title:e("common:privilege-bigc-card"),link:"/p/bigccreditcard",target:"_self"},{title:e("common:privilege-partners"),link:"/p/partner-privilege",target:"_self"},]}}}},52456:function(e,n,t){t.d(n,{$2:function(){return v},Kx:function(){return c},OK:function(){return s},SX:function(){return d},jc:function(){return u}});var o=t(23842),r=t(9722),i=t(59312),a=t(62e3);function u(e){return l.apply(this,arguments)}function l(){return(l=(0,o.Z)(function(e){var n,t,o=arguments;return(0,i.__generator)(this,function(i){return n=o.length>1&&void 0!==o[1]?o[1]:"th",t=o.length>2?o[2]:void 0,[2,(0,a.SD)({path:"/composite/v1/bigpoint/verification",options:{headers:{Language:n,Token:e},data:(0,r.Z)({},t)}})]})})).apply(this,arguments)}function c(e){var n=e.token,t=e.data,o=e.lang;return(0,a.SD)({path:"/composite/v1/bigpoint/registration",options:{data:(0,r.Z)({},t),headers:{Token:n,Language:o}}})}function d(e){return(0,a.SD)({path:"/composite/v1/bigpoint/points",options:{headers:{Token:e}}})}function s(e){var n=e.lang;return(0,a.Be)({path:"/loyalty/v1/bigpoint/consent",options:{headers:{Language:n}}})}function v(e){return g.apply(this,arguments)}function g(){return(g=(0,o.Z)(function(e){var n;return(0,i.__generator)(this,function(t){return n=e.token,[2,(0,a.SD)({path:"/composite/v1/bigpoint/profile",options:{headers:{Token:n}}})]})})).apply(this,arguments)}},30720:function(e,n,t){t.d(n,{R:function(){return o}});function o(e){return/https|http/i.test(e)?"external":"internal"}},96093:function(e,n,t){t.d(n,{r:function(){return l}});var o=t(9722),r=t(86677),i=t(92026),a=t(78373),u=t(68675);function l(){var e=function(){},n=function(e){var n,t,r,i,a,u,v,g,p,_,h,f,m,b,y,B,w,k=e.event,E=e.category,A=e.action,I=e.label,S=e.value,x=e.logId,C=e.product,D=e.order,Z=e.userData,P=e.useLabelIsCurrentPage;n={event:k,category:E,action:A,label:I||(P?({"/":"home_page","/search":"search_page","/product/[slug]":"product_page","/category/[slug]":"category_page","/group/[slug]":"group_page","/shop/[shop]":"shop_page","/customer/account":"customer_account_page"})[l.pathname]:void 0),value:S,logId:x,product:C,order:D,user:(null==Z?void 0:Z.customer)||(null==c?void 0:c.customer),language:d.language,selectedWarehouse:s},r=n.event,i=n.category,a=n.action,u=n.label,v=n.value,g=n.logId,p=n.product,_=n.order,h=n.user,f=n.language,m=n.selectedWarehouse,null===(t=window.dataLayer)||void 0===t||t.push((0,o.Z)({event:r||"track_event",event_category:i,event_action:a,event_label:u,event_value:v,products:function(e,n){if(e&&"object"==typeof e){Array.isArray(e)||(e=[e]);var t=["remove_from_cart","add_to_cart"];return e.map(function(e){var r,i,a,u,l,c,d,s,v,g,p,_,h=(null==e?void 0:e.qtyInCart)||0;return(null==e?void 0:e.product_data)&&(h=null==(e=(0,o.Z)({},e.product_data,e))?void 0:e.qty_order),t.includes(n)&&(h=1),{id:e.product_id,sku:e.sku,name:e.name,brand:(null===(r=e.brand)||void 0===r?void 0:r.name)||(null==e?void 0:null===(i=e.attributes)||void 0===i?void 0:i.brand),category:null===(a=e.categories)||void 0===a?void 0:a.join(","),price:e.price_incl_tax,price_final:e.selling_price||e.final_price_incl_tax,variant1:null===(u=e.variants)||void 0===u?void 0:null===(l=u[0])||void 0===l?void 0:l.variant_id,variant2:null===(c=e.variants)||void 0===c?void 0:null===(d=c[1])||void 0===d?void 0:d.variant_id,avaliability:e.qty,quantity:h,width:e.width,height:e.height,long:e.long,weight:e.weight,image_url:e.thumbnail_image,division:null==e?void 0:null===(s=e.attributes)||void 0===s?void 0:s.division_name,department:null==e?void 0:null===(v=e.attributes)||void 0===v?void 0:v.department_name,sub_department:null==e?void 0:null===(g=e.attributes)||void 0===g?void 0:g.sub_department_name,class:null==e?void 0:null===(p=e.attributes)||void 0===p?void 0:p.class_name,sub_class:null==e?void 0:null===(_=e.attributes)||void 0===_?void 0:_.sub_class_name,is_hardline:e.is_hardline,seller_id:e.seller_id,store_id:e.storeId,is_from_promotion:e.is_from_promotion,selling_price:e.selling_price,slug:e.slug}})}}(p,a)},function(e){if(e&&"object"==typeof e){var n,t=e.shipping,o=(null==t?void 0:t.shipping_date)?"".concat(null==t?void 0:t.shipping_date," เวลา ").concat(null==t?void 0:t.timeslot_start_time,"-").concat(null==t?void 0:t.timeslot_end_time," น."):null,r=e.pricing_summary;return{order_id:null==e?void 0:e.order_id,order_affiliation:null,order_revenue:null==e?void 0:e.order_val,order_tax:null,order_shipping_cost:null==e?void 0:e.delivery_fee,order_shipping_info:null==t?void 0:t.shipping_name_th,order_shipping_timeslot:o,order_payment_info:null==e?void 0:null===(n=e.payment)||void 0===n?void 0:n.payment_name_th,order_coupon_code:null==e?void 0:e.coupon_code,order_currency:"THB",order_checkout_step:null,order_summary:r}}}(_),(b=g,y=h,B=f,w=m,{cd_log_id:b,cd_language:B,cd_user_id:null==y?void 0:y.id,cd_bigpoint_id:null==y?void 0:y.bigcard,cd_user_type:(null==y?void 0:y.id)?"phone":void 0,cd_email:null==y?void 0:y.email,cd_store_id:null==w?void 0:w.store_id,cd_store_type:"".concat(null==w?void 0:w.warehouse_type_en,"/").concat(null==w?void 0:w.warehouse_name_en),cd_user_gender:function(e){switch(null==e?void 0:e.toUpperCase()){case"F":return"female";case"M":return"male";case"O":return"other";default:return}}(null==y?void 0:y.gender),cd_user_firstname:null==y?void 0:y.first_name,cd_user_lastname:null==y?void 0:y.last_name,cd_user_birthdate:"".concat(null==y?void 0:y.birth_year,"-").concat(null==y?void 0:y.birth_month,"-").concat(null==y?void 0:y.birth_day),cd_user_phone:null==y?void 0:y.phone_no})))},t=function(e){n((0,o.Z)({event:"track_ecommerce"},e))},l=(0,r.useRouter)(),c=(0,a.a)().user,d=(0,i.$)().i18n,s=(0,u.f)().selectedWarehouse;return{trackPageview:e,trackEvent:n,trackEcommerce:t}}},62167:function(e,n,t){function o(e){var n=e;return(null==e?void 0:e.length)>3&&(n=[n.slice(0,3),"-",n.slice(3)].join("")),(null==e?void 0:e.length)>3&&(n=[n.slice(0,7),"-",n.slice(7)].join("")),n}function r(e){return[null==e?void 0:e.slice(0,3),"-XXX-",null==e?void 0:e.slice(6)].join("")}function i(e){var n=new Date().getHours();return e(n<12?"common:w-good-morning":n<16?"common:w-good-afternoon":n<20?"common:w-good-evening":"common:w-good-night")}function a(e){var n=e.name,t=void 0===n?"":n,o=e.lang;return"th"===(void 0===o?"th":o)?t:t.charAt(0).toUpperCase()+t.slice(1)}function u(e){return/^[ก-๙]+$/gi.test(e)}t.d(n,{C5:function(){return i},WX:function(){return r},fm:function(){return a},vu:function(){return o},wP:function(){return u}})},78373:function(e,n,t){t.d(n,{a:function(){return i}});var o=t(52998),r=t(27378);function i(){return(0,r.useContext)(o.Vo)}},7340:function(e,n,t){t.d(n,{V:function(){return u}});var o,r=t(23842),i=t(59312),a=t(52456),u=(o=(0,r.Z)(function(e){var n,t,o,r,u,l,c;return(0,i.__generator)(this,function(i){switch(i.label){case 0:if(t=void 0===(n=e.token)?null:n,o=null,r=null,!t)return[3,2];return[4,(0,a.SX)(t)];case 1:(null==(u=i.sent())?void 0:u.code)==="success"&&(o=null==u?void 0:null===(l=u.data)||void 0===l?void 0:l.bigcard,r=parseInt(null==u?void 0:null===(c=u.data)||void 0===c?void 0:c.point_balance)),i.label=2;case 2:return[2,[o,r]]}})}),function(e){return o.apply(this,arguments)})},8576:function(e,n,t){t.d(n,{I:function(){return i},k:function(){return a}});var o=t(93401),r=t(31621);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var n=(0,o.l)((0,r.ej)(e));return JSON.parse(n)}catch(t){return!1}}function a(){var e=i("selected_address");return e?(null==e?void 0:e.id)===null?"notComplete":"completed":"notSet"}},68675:function(e,n,t){t.d(n,{f:function(){return i}});var o=t(13416),r=t(27378);function i(){return(0,r.useContext)(o.i)}}}]);